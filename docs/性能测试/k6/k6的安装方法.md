# k6çš„å®‰è£…æ–¹æ³•

## ğŸ§ Linux ç³»ç»Ÿå®‰è£…

### Ubuntu/Debian
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨å®˜æ–¹ä»“åº“ï¼ˆæ¨èï¼‰
sudo gpg -k
sudo gpg --no-default-keyring --keyring /usr/share/keyrings/k6-archive-keyring.gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys C5AD17C747E3415A3642D57D77C6C491D6AC1D69
echo "deb [signed-by=/usr/share/keyrings/k6-archive-keyring.gpg] https://dl.k6.io/deb stable main" | sudo tee /etc/apt/sources.list.d/k6.list
sudo apt update
sudo apt install k6

# æ–¹æ³•2ï¼šä½¿ç”¨ snap
sudo snap install k6
```

### CentOS/RHEL/Fedora
```bash
# CentOS/RHEL/Fedora
sudo dnf install https://dl.k6.io/rpm/repo.rpm
sudo dnf install k6

# æˆ–è€…ä½¿ç”¨ yumï¼ˆæ—§ç‰ˆæœ¬ï¼‰
sudo yum install https://dl.k6.io/rpm/repo.rpm
sudo yum install k6
```

### Arch Linux
```bash
# ä½¿ç”¨ yayï¼ˆAURåŠ©æ‰‹ï¼‰
yay -S k6

# æˆ–ä½¿ç”¨ pacmanï¼ˆå¦‚æœå·²åœ¨å®˜æ–¹ä»“åº“ï¼‰
sudo pacman -S k6
```

## ğŸ macOS ç³»ç»Ÿå®‰è£…

### ä½¿ç”¨ Homebrewï¼ˆæ¨èï¼‰
```bash
# å®‰è£… Homebrewï¼ˆå¦‚æœå°šæœªå®‰è£…ï¼‰
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# å®‰è£… k6
brew install k6
```

### ä½¿ç”¨ MacPorts
```bash
sudo port install k6
```

## ğŸªŸ Windows ç³»ç»Ÿå®‰è£…

### ä½¿ç”¨ Chocolateyï¼ˆæ¨èï¼‰
```bash
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShell æˆ– CMD
choco install k6
```

### ä½¿ç”¨ Winget
```bash
winget install k6
```

### ä½¿ç”¨ MSI å®‰è£…åŒ…
1. è®¿é—® [k6 å‘å¸ƒé¡µé¢](https://github.com/grafana/k6/releases)
2. ä¸‹è½½æœ€æ–°çš„ `.msi` å®‰è£…æ–‡ä»¶
3. åŒå‡»è¿è¡Œå®‰è£…ç¨‹åº

### ä½¿ç”¨ Scoop
```bash
scoop install k6
```

## ğŸ³ ä½¿ç”¨ Dockerï¼ˆè·¨å¹³å°ï¼‰

å¦‚æœä½ ä¸æƒ³åœ¨æœ¬åœ°å®‰è£…ï¼Œå¯ä»¥ä½¿ç”¨ Dockerï¼š

```bash
# è¿è¡Œä¸€æ¬¡æ€§æµ‹è¯•
docker run --rm -i grafana/k6 run - <script.js

# è¿è¡Œæœ¬åœ°è„šæœ¬æ–‡ä»¶
docker run --rm -v "$(pwd)":/scripts -w /scripts grafana/k6 run script.js

# å¸¦æ›´å¤šé€‰é¡¹çš„ç¤ºä¾‹
docker run --rm -v "$(pwd)":/scripts -w /scripts grafana/k6 run --vus 10 --duration 30s script.js
```

## ğŸ“¦ å…¶ä»–å®‰è£…æ–¹æ³•

### ç›´æ¥ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶
1. è®¿é—® [k6 GitHub Releases](https://github.com/grafana/k6/releases)
2. ä¸‹è½½å¯¹åº”å¹³å°çš„äºŒè¿›åˆ¶æ–‡ä»¶
3. è§£å‹å¹¶æ·»åŠ åˆ°ç³»ç»Ÿ PATH

### ä½¿ç”¨ Go å®‰è£…ï¼ˆå¼€å‘äººå‘˜ï¼‰
```bash
go install go.k6.io/k6@latest
```

## âœ… éªŒè¯å®‰è£…

å®‰è£…å®Œæˆåï¼ŒéªŒè¯ k6 æ˜¯å¦æ­£ç¡®å®‰è£…ï¼š

```bash
k6 version
```

è¾“å‡ºåº”è¯¥ç±»ä¼¼äºï¼š
```
k6 v0.50.0 ((devel), go1.21.0, darwin/arm64)
```

## ğŸš€ å¿«é€Ÿæµ‹è¯•

åˆ›å»ºä¸€ä¸ªç®€å•çš„æµ‹è¯•è„šæœ¬æ¥éªŒè¯å®‰è£…ï¼š

**script.js**
```javascript
import http from 'k6/http';
import { check, sleep } from 'k6';

export const options = {
  vus: 5,
  duration: '10s',
};

export default function () {
  const res = http.get('https://httpbin.test.k6.io/get');
  
  check(res, {
    'status is 200': (r) => r.status === 200,
    'response time < 500ms': (r) => r.timings.duration < 500,
  });
  
  sleep(1);
}
```

è¿è¡Œæµ‹è¯•ï¼š
```bash
k6 run script.js
```

## ğŸ’¡ å®‰è£…å»ºè®®

- **Linux/macOS ç”¨æˆ·**ï¼šæ¨èä½¿ç”¨å®˜æ–¹åŒ…ç®¡ç†å™¨ï¼ˆapt/yum/brewï¼‰
- **Windows ç”¨æˆ·**ï¼šæ¨èä½¿ç”¨ Chocolatey æˆ– MSI å®‰è£…åŒ…
- **å®¹å™¨åŒ–ç¯å¢ƒ**ï¼šä½¿ç”¨ Docker é•œåƒ
- **CI/CD æµæ°´çº¿**ï¼šä½¿ç”¨å®˜æ–¹ Docker é•œåƒæˆ–åœ¨æ„å»ºæ­¥éª¤ä¸­å®‰è£…

é€‰æ‹©æœ€é€‚åˆä½ ç¯å¢ƒçš„å®‰è£…æ–¹æ³•å³å¯å¼€å§‹ä½¿ç”¨ k6 è¿›è¡Œæ€§èƒ½æµ‹è¯•ï¼