### 背景

某次性能测试发现的一些问题, 也就是我搭建环境居然不顺利

我当前遇到的问题.

1. 数据库服务器未配置DNS和开启NTP, 导致JDBC连接的SSL失败
2. 数据库的初始库不知道要用哪个
3. 各个服务的业务配置不清楚是不是用的最新的
4. 一些中间件比如nginx的相关配置运维经常有改, 但可能没更新到我这里

### 全链路压测为啥建议在生产环境做

1. 很难去搭建出一个和生产环境一样的环境
2. 很难保证搭建出来的环境在网络, 硬件, 和数据上和生产环境一直

### 互联网产品的环境搭建

1. 估计是一个个服务的去不断新增上去的
2. 各个中间件也会经常修改配置, 但是相关配置应该是没有统一的管理的
3. 是一个持续更新的系统, 包括软件架构和数据

### 小型web系统的搭建

和互联网产品类似, 但是, 情况更加糟糕, 更加不规范

### 配置管理问题

看书的时候, 有看到过, 对这些配置进行统一管理和导出的, 但是可能很多公司没有做, 这就导致了管理上的不精确

### 交付管理问题

B端交付也会给这里带入不同的问题, 比如不同的客户会有不同的基础设施, 要在他们的基础上去部署环境, 部署出来的环境, 也会有很大差别. 然后这些更改, 估计也都不会沉淀下来, 全靠个人能力和个人总结, 无法推广给其他人.

### 代码分支管理问题

一般只会对这种代码的层面进行管理. docker做的挺好的, 但是却没有工具对配置和部署这个层面去做管理. 

### 软件部署平台

以前一家公司, 每个人都能很轻松的部署出一套标准的测试环境, 因为他们有一个部署软件的工具呀. 而我们大多数公司是没有这个东西的. 有这个工具或者平台的话, 那么就可以将部署的能力口径给统一起来, 各种管理也会规范很多, 比如部署相关的变化也都能够被清晰的记录和跟踪沉淀.

### 最终建议

搞个部署工具或者平台吧, 这样子, 就能够去提升整体部署环境的能力, 和极大方便的控制环境的版本信息了, 特别是配置方面的.

