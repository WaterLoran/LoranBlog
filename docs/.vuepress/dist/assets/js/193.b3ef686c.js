(window.webpackJsonp=window.webpackJsonp||[]).push([[193],{622:function(v,t,_){"use strict";_.r(t);var s=_(2),a=Object(s.a)({},(function(){var v=this,t=v._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("p",[t("code",[v._v("iftop")]),v._v(" 是一个实时流量监控工具，用于在命令行下监控网络带宽使用情况。它可以显示系统上各个网络连接的带宽使用情况、各连接的实时流量、总流量等。以下是 "),t("code",[v._v("iftop")]),v._v(" 的基本用法和常见指标的解读：")]),v._v(" "),t("h3",{attrs:{id:"一、安装-iftop"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、安装-iftop"}},[v._v("#")]),v._v(" 一、安装 "),t("code",[v._v("iftop")])]),v._v(" "),t("p",[t("code",[v._v("iftop")]),v._v(" 需要通过包管理工具安装。")]),v._v(" "),t("ul",[t("li",[t("p",[t("strong",[v._v("CentOS / RHEL")]),v._v(":")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[v._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("install")]),v._v(" iftop\n")])])])]),v._v(" "),t("li",[t("p",[t("strong",[v._v("Ubuntu / Debian")]),v._v(":")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("apt")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("install")]),v._v(" iftop\n")])])])])]),v._v(" "),t("h3",{attrs:{id:"二、启动-iftop"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、启动-iftop"}},[v._v("#")]),v._v(" 二、启动 "),t("code",[v._v("iftop")])]),v._v(" "),t("p",[v._v("可以直接在终端输入 "),t("code",[v._v("iftop")]),v._v(" 来启动监控工具。常见启动命令有：")]),v._v(" "),t("ul",[t("li",[t("p",[t("strong",[v._v("基本启动")]),v._v("：")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("sudo")]),v._v(" iftop\n")])])])]),v._v(" "),t("li",[t("p",[t("strong",[v._v("指定网络接口")]),v._v("：")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("sudo")]),v._v(" iftop "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-i")]),v._v(" eth0\n")])])]),t("p",[v._v("其中 "),t("code",[v._v("eth0")]),v._v(" 是网络接口的名称，可以用 "),t("code",[v._v("ip a")]),v._v(" 查看系统中的接口名称。")])]),v._v(" "),t("li",[t("p",[t("strong",[v._v("忽略本地流量")]),v._v("：")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("sudo")]),v._v(" iftop "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-nNp")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-F")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("<")]),v._v("network_subnet"),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v(">")]),v._v("\n")])])]),t("ul",[t("li",[t("code",[v._v("-n")]),v._v("：直接显示 IP 地址而不是解析域名。")]),v._v(" "),t("li",[t("code",[v._v("-N")]),v._v("：显示端口号而不是端口服务名称。")]),v._v(" "),t("li",[t("code",[v._v("-p")]),v._v("：启用 promiscuous mode，可以检测到更多流量。")]),v._v(" "),t("li",[t("code",[v._v("-F <network_subnet>")]),v._v("：忽略指定网段以外的流量。")])])])]),v._v(" "),t("h3",{attrs:{id:"三、iftop-界面指标解读"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、iftop-界面指标解读"}},[v._v("#")]),v._v(" 三、"),t("code",[v._v("iftop")]),v._v(" 界面指标解读")]),v._v(" "),t("p",[t("code",[v._v("iftop")]),v._v(" 界面主要显示每个网络连接的流量情况，左侧是源IP，右侧是目标IP，中间箭头指向流量的传输方向。主要指标解读如下：")]),v._v(" "),t("ol",[t("li",[t("p",[t("strong",[v._v("TX / RX / TOTAL")])]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("TX")]),v._v("：表示出站流量（发送流量），即从本地到远程的流量。")]),v._v(" "),t("li",[t("strong",[v._v("RX")]),v._v("：表示入站流量（接收流量），即从远程到本地的流量。")]),v._v(" "),t("li",[t("strong",[v._v("TOTAL")]),v._v("：该连接的总流量，包括入站和出站流量之和。")])])]),v._v(" "),t("li",[t("p",[t("strong",[v._v("实时流量显示")]),v._v("（左、右和顶部的数值）")]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("实时流量")]),v._v("：每个连接会有三个时间窗口的数据，通常为 "),t("code",[v._v("2秒/10秒/40秒")]),v._v("。这些窗口显示的平均流量值，例如在 2 秒窗口的流量是最近 2 秒的平均值。")]),v._v(" "),t("li",[t("strong",[v._v("顶部的总流量")]),v._v("：在屏幕顶部有三个总流量指标，分别是入站流量和出站流量的总和，时间窗口与单个连接的窗口相同（2 秒、10 秒、40 秒）。")])])]),v._v(" "),t("li",[t("p",[t("strong",[v._v("Peak（峰值）")])]),v._v(" "),t("ul",[t("li",[v._v("每个连接的峰值流量，反映该连接在监控期间的最大速率。")]),v._v(" "),t("li",[v._v("有助于判断网络连接的带宽高峰。")])])]),v._v(" "),t("li",[t("p",[t("strong",[v._v("Cumulative (累积流量)")])]),v._v(" "),t("ul",[t("li",[v._v("从"),t("code",[v._v("iftop")]),v._v("启动到当前的累积流量数据。")]),v._v(" "),t("li",[v._v("可以用来分析应用的带宽占用总量。")])])]),v._v(" "),t("li",[t("p",[t("strong",[v._v("Ports（端口）")])]),v._v(" "),t("ul",[t("li",[v._v("每个连接对应的端口号，可以帮助识别不同应用的数据流。")]),v._v(" "),t("li",[v._v("如果没有指定 "),t("code",[v._v("-N")]),v._v(" 参数，"),t("code",[v._v("iftop")]),v._v(" 默认会尝试将端口号解析为服务名称，例如 "),t("code",[v._v("http")]),v._v("、"),t("code",[v._v("https")]),v._v("。")])])])]),v._v(" "),t("h3",{attrs:{id:"四、iftop-常用按键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、iftop-常用按键"}},[v._v("#")]),v._v(" 四、"),t("code",[v._v("iftop")]),v._v(" 常用按键")]),v._v(" "),t("p",[v._v("在运行"),t("code",[v._v("iftop")]),v._v("时，可以使用以下按键来切换不同的显示模式：")]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("p")]),v._v("：切换是否显示端口信息。")]),v._v(" "),t("li",[t("strong",[v._v("P")]),v._v("：切换显示本地端口和远程端口。")]),v._v(" "),t("li",[t("strong",[v._v("n")]),v._v("：切换是否解析主机名（仅显示IP地址）。")]),v._v(" "),t("li",[t("strong",[v._v("b")]),v._v("：切换显示的流量计量单位（bits/bytes）。")]),v._v(" "),t("li",[t("strong",[v._v("t")]),v._v("：切换显示界面上下部分，显示数据传输方向。")]),v._v(" "),t("li",[t("strong",[v._v("L")]),v._v("：限制显示的最大连接数（提高性能）。")]),v._v(" "),t("li",[t("strong",[v._v("q")]),v._v("：退出 "),t("code",[v._v("iftop")]),v._v("。")])]),v._v(" "),t("h3",{attrs:{id:"五、使用场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#五、使用场景"}},[v._v("#")]),v._v(" 五、使用场景")]),v._v(" "),t("ol",[t("li",[t("strong",[v._v("监控带宽使用情况")]),v._v("：实时了解当前的网络流量，识别哪些IP和端口正在消耗带宽。")]),v._v(" "),t("li",[t("strong",[v._v("故障排查")]),v._v("：在网络异常缓慢时，快速定位流量高峰的来源。")]),v._v(" "),t("li",[t("strong",[v._v("带宽占用分析")]),v._v("：帮助优化应用，避免高带宽应用影响其他业务。")])]),v._v(" "),t("p",[v._v("通过以上指标和按键，"),t("code",[v._v("iftop")]),v._v(" 可以成为网络流量监控的好工具，帮助用户更好地了解网络带宽的使用情况并进行合理的管理和优化。")])])}),[],!1,null,null,null);t.default=a.exports}}]);