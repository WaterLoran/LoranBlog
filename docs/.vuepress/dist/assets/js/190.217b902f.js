(window.webpackJsonp=window.webpackJsonp||[]).push([[190],{618:function(e,t,v){"use strict";v.r(t);var a=v(2),r=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("在JMeter集群中使用Windows作为主控节点（Master），并将两台Linux机器作为从属节点（Slave），可以按照以下步骤进行配置。JMeter的主节点将负责控制和协调负载测试，而从节点将执行实际的负载生成。")]),e._v(" "),t("h3",{attrs:{id:"前提条件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前提条件"}},[e._v("#")]),e._v(" 前提条件")]),e._v(" "),t("ol",[t("li",[t("strong",[e._v("Java环境")]),e._v("：确保Windows主节点和Linux从节点都安装了Java（JMeter依赖Java）。")]),e._v(" "),t("li",[t("strong",[e._v("JMeter安装")]),e._v("：在Windows和Linux系统上安装相同版本的JMeter。")]),e._v(" "),t("li",[t("strong",[e._v("网络连接")]),e._v("：确保Windows主节点和Linux从节点之间可以通过网络互相通信，并允许端口1099和其他JMeter需要的端口（如4445等）开放。")])]),e._v(" "),t("h3",{attrs:{id:"步骤-1-在所有节点上安装并配置-jmeter"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤-1-在所有节点上安装并配置-jmeter"}},[e._v("#")]),e._v(" 步骤 1：在所有节点上安装并配置 JMeter")]),e._v(" "),t("ol",[t("li",[t("p",[t("strong",[e._v("下载并安装 JMeter")]),e._v("：")]),e._v(" "),t("ul",[t("li",[e._v("下载最新版本的 JMeter（"),t("a",{attrs:{href:"https://jmeter.apache.org/download_jmeter.cgi",target:"_blank",rel:"noopener noreferrer"}},[e._v("Apache JMeter下载页面"),t("OutboundLink")],1),e._v("）。")]),e._v(" "),t("li",[e._v("将 JMeter 解压到所有节点的某个目录下，比如 "),t("code",[e._v("C:\\jmeter")]),e._v("（Windows）和 "),t("code",[e._v("/home/user/jmeter")]),e._v("（Linux）。")])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("配置 jmeter.properties 文件")]),e._v("：")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("在JMeter的"),t("code",[e._v("/bin")]),e._v("目录下找到 "),t("code",[e._v("jmeter.properties")]),e._v(" 文件。")])]),e._v(" "),t("li",[t("p",[e._v("找到以下配置并进行修改，使得JMeter主节点可以通过IP连接到从节点。")]),e._v(" "),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("remote_hosts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("linux_slave1_IP:1099,linux_slave2_IP:1099")]),e._v("\n")])])]),t("p",[e._v("替换 "),t("code",[e._v("linux_slave1_IP")]),e._v(" 和 "),t("code",[e._v("linux_slave2_IP")]),e._v(" 为Linux从节点的实际IP地址。")])])])])]),e._v(" "),t("h3",{attrs:{id:"步骤-2-配置-linux-从节点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤-2-配置-linux-从节点"}},[e._v("#")]),e._v(" 步骤 2：配置 Linux 从节点")]),e._v(" "),t("ol",[t("li",[t("p",[t("strong",[e._v("确认Java安装")]),e._v("：")]),e._v(" "),t("ul",[t("li",[e._v("在每个Linux从节点上确认安装了Java环境，并确保路径已配置好。")]),e._v(" "),t("li",[e._v("可以用以下命令确认Java版本："),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-version")]),e._v("\n")])])])])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("启动 JMeter Server")]),e._v("：")]),e._v(" "),t("ul",[t("li",[e._v("在每个Linux从节点上，进入JMeter的"),t("code",[e._v("/bin")]),e._v("目录，然后启动JMeter服务器："),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("./jmeter-server\n")])])])]),e._v(" "),t("li",[e._v("启动后，JMeter从节点会监听默认的1099端口和其他需要的端口，等待来自主节点的连接。")])])])]),e._v(" "),t("h3",{attrs:{id:"步骤-3-配置-windows-主节点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤-3-配置-windows-主节点"}},[e._v("#")]),e._v(" 步骤 3：配置 Windows 主节点")]),e._v(" "),t("ol",[t("li",[t("strong",[e._v("确认Java安装")]),e._v("：")])]),e._v(" "),t("ul",[t("li",[e._v("在Windows主节点上确认Java安装和配置，确保JMeter可以正常运行。")])]),e._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("p",[t("strong",[e._v("启动JMeter主节点")]),e._v("：")]),e._v(" "),t("ul",[t("li",[e._v("在Windows上进入JMeter的"),t("code",[e._v("/bin")]),e._v("目录，然后使用以下命令启动JMeter GUI："),t("div",{staticClass:"language-cmd extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("jmeter.bat\n")])])])]),e._v(" "),t("li",[e._v("如果使用非GUI模式进行负载测试，也可以使用以下命令："),t("div",{staticClass:"language-cmd extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("jmeter.bat -n -t test_plan.jmx -R linux_slave1_IP,linux_slave2_IP\n")])])]),t("ul",[t("li",[t("code",[e._v("-n")]),e._v("：非GUI模式")]),e._v(" "),t("li",[t("code",[e._v("-t")]),e._v("：指定JMeter测试计划文件路径（"),t("code",[e._v("test_plan.jmx")]),e._v("）")]),e._v(" "),t("li",[t("code",[e._v("-R")]),e._v("：指定从节点的IP地址，多个IP用逗号分隔")])])])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("测试连接")]),e._v("：")]),e._v(" "),t("ul",[t("li",[e._v("在JMeter主节点的GUI中，进入菜单"),t("strong",[e._v("Run -> Remote Start")]),e._v("，你会看到配置的从节点。")]),e._v(" "),t("li",[e._v("选择"),t("strong",[e._v("Remote Start All")]),e._v("，测试能否成功启动所有从节点。如果配置无误，所有从节点会同时开始执行测试计划。")])])])]),e._v(" "),t("h3",{attrs:{id:"步骤-4-运行测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤-4-运行测试"}},[e._v("#")]),e._v(" 步骤 4：运行测试")]),e._v(" "),t("ol",[t("li",[t("strong",[e._v("设置负载参数")]),e._v("：\n"),t("ul",[t("li",[e._v("在JMeter测试计划中配置线程数、持续时间等负载参数，确保负载均匀分布到各个从节点上。")])])]),e._v(" "),t("li",[t("strong",[e._v("启动测试")]),e._v("：\n"),t("ul",[t("li",[e._v("通过主节点启动远程测试，从节点将自动开始执行负载测试。")])])]),e._v(" "),t("li",[t("strong",[e._v("监控与收集结果")]),e._v("：\n"),t("ul",[t("li",[e._v("测试完成后，从节点会将数据传回主节点，主节点可以收集和分析所有从节点的测试结果。")])])])]),e._v(" "),t("h3",{attrs:{id:"注意事项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[e._v("#")]),e._v(" 注意事项")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("防火墙配置")]),e._v("：确认所有节点的防火墙允许1099和其他JMeter所需端口的流量。")]),e._v(" "),t("li",[t("strong",[e._v("网络延迟")]),e._v("：确保主从节点之间的网络延迟尽可能低，避免影响测试结果的准确性。")]),e._v(" "),t("li",[t("strong",[e._v("相同JMeter版本")]),e._v("：确保所有节点的JMeter版本一致，否则可能出现兼容性问题。")])]),e._v(" "),t("p",[e._v("通过上述步骤，可以搭建一个Windows主控、Linux从属的JMeter集群，用于分布式性能测试。")])])}),[],!1,null,null,null);t.default=r.exports}}]);