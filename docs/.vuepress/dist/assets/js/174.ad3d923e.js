(window.webpackJsonp=window.webpackJsonp||[]).push([[174],{610:function(_,v,t){"use strict";t.r(v);var s=t(2),r=Object(s.a)({},(function(){var _=this,v=_._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("p",[_._v("要快速分析并定位网络相关的问题，可以从以下步骤和指标入手，结合具体的数值参考，帮助你尽快找到潜在的瓶颈或异常。")]),_._v(" "),v("h3",{attrs:{id:"_1-基础网络延迟诊断"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-基础网络延迟诊断"}},[_._v("#")]),_._v(" 1. "),v("strong",[_._v("基础网络延迟诊断")])]),_._v(" "),v("ul",[v("li",[v("p",[v("strong",[_._v("Ping 测试")]),_._v("：使用 "),v("code",[_._v("ping")]),_._v(" 检测到目标服务器的延迟和丢包率。")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("指标")]),_._v("：\n"),v("ul",[v("li",[v("strong",[_._v("RTT（Round Trip Time）")]),_._v("：一般希望在局域网中不超过 "),v("strong",[_._v("1-10ms")]),_._v("，跨地区延迟在 "),v("strong",[_._v("50-100ms")]),_._v(" 以内。如果超出此范围，可能存在网络延迟问题。")]),_._v(" "),v("li",[v("strong",[_._v("丢包率")]),_._v("：理想情况下应为 "),v("strong",[_._v("0%")]),_._v("。如果超过 "),v("strong",[_._v("1%")]),_._v(" 丢包率，可能存在网络不稳定的情况。")])])]),_._v(" "),v("li",[v("strong",[_._v("命令")]),_._v("："),v("code",[_._v("ping -c 10 <目标服务器 IP 或域名>")])])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("Traceroute 路由追踪")]),_._v("：使用 "),v("code",[_._v("traceroute")]),_._v("（Linux/Mac）或 "),v("code",[_._v("tracert")]),_._v("（Windows）查看每跳的延迟。")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("指标")]),_._v("：\n"),v("ul",[v("li",[_._v("每一跳的延迟通常在 "),v("strong",[_._v("1-10ms")]),_._v(" 范围内，若某一跳的延迟超过 "),v("strong",[_._v("50ms")]),_._v(" 或出现明显波动，可能是瓶颈。")])])]),_._v(" "),v("li",[v("strong",[_._v("命令")]),_._v("："),v("code",[_._v("traceroute <目标服务器 IP 或域名>")])])])])]),_._v(" "),v("h3",{attrs:{id:"_2-dns-解析速度"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-dns-解析速度"}},[_._v("#")]),_._v(" 2. "),v("strong",[_._v("DNS 解析速度")])]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("DNS 延迟测试")]),_._v("：使用 "),v("code",[_._v("dig")]),_._v(" 或 "),v("code",[_._v("nslookup")]),_._v(" 查看 DNS 解析时间。\n"),v("ul",[v("li",[v("strong",[_._v("指标")]),_._v("：\n"),v("ul",[v("li",[v("strong",[_._v("DNS 解析时间")]),_._v("：应在 "),v("strong",[_._v("100ms")]),_._v(" 以内，理想情况在 "),v("strong",[_._v("10-50ms")]),_._v(" 左右。如果解析时间较长，可能是 DNS 服务器响应较慢。")])])]),_._v(" "),v("li",[v("strong",[_._v("命令")]),_._v("："),v("code",[_._v("dig <域名>")]),_._v(" 或 "),v("code",[_._v("nslookup <域名>")])])])])]),_._v(" "),v("h3",{attrs:{id:"_3-网络带宽和流量监控"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-网络带宽和流量监控"}},[_._v("#")]),_._v(" 3. "),v("strong",[_._v("网络带宽和流量监控")])]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("带宽利用率")]),_._v("：使用工具（如 "),v("code",[_._v("iftop")]),_._v("、"),v("code",[_._v("nload")]),_._v(" 或 "),v("code",[_._v("vnstat")]),_._v("）监控服务器的网络带宽使用情况。\n"),v("ul",[v("li",[v("strong",[_._v("指标")]),_._v("：\n"),v("ul",[v("li",[v("strong",[_._v("带宽利用率")]),_._v("：在高峰时段不应超过带宽的 "),v("strong",[_._v("80%")]),_._v("。若接近 "),v("strong",[_._v("100%")]),_._v("，可能导致网络拥堵。")]),_._v(" "),v("li",[v("strong",[_._v("流量峰值")]),_._v("：短时间的突发流量会影响请求速度，通常每秒最大流量应在服务器带宽的允许范围内。")])])])])])]),_._v(" "),v("h3",{attrs:{id:"_4-tcp-连接和握手时间"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-tcp-连接和握手时间"}},[_._v("#")]),_._v(" 4. "),v("strong",[_._v("TCP 连接和握手时间")])]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("TCP 三次握手")]),_._v("：可以使用 "),v("code",[_._v("curl")]),_._v(" 测试连接到目标服务器的 TCP 连接建立时间。\n"),v("ul",[v("li",[v("strong",[_._v("指标")]),_._v("：\n"),v("ul",[v("li",[v("strong",[_._v("TCP 连接时间")]),_._v("：应在 "),v("strong",[_._v("50ms")]),_._v(" 以下，超过 "),v("strong",[_._v("100ms")]),_._v(" 可能表明网络链路中存在延迟。")]),_._v(" "),v("li",[v("strong",[_._v("初始连接延迟")]),_._v("："),v("code",[_._v('curl -w "%{time_connect}" -o /dev/null -s <URL>')]),_._v(" 测量建立连接所需时间。")])])])])]),_._v(" "),v("li",[v("strong",[_._v("传输层重试")]),_._v("：如果有丢包，可能会触发 TCP 重传，从而增加延迟。通过 Wireshark 抓包可以检查是否有 TCP 重传。")])]),_._v(" "),v("h3",{attrs:{id:"_5-https-握手和-tls-连接时间"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_5-https-握手和-tls-连接时间"}},[_._v("#")]),_._v(" 5. "),v("strong",[_._v("HTTPS 握手和 TLS 连接时间")])]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("HTTPS 握手测试")]),_._v("：使用 "),v("code",[_._v("curl")]),_._v(" 查看 HTTPS 握手延迟。\n"),v("ul",[v("li",[v("strong",[_._v("指标")]),_._v("：\n"),v("ul",[v("li",[v("strong",[_._v("TLS 连接时间")]),_._v("：建议不超过 "),v("strong",[_._v("150ms")]),_._v("，若超出此范围，可能表明 SSL/TLS 证书加载较慢或握手过程存在延迟。")])])]),_._v(" "),v("li",[v("strong",[_._v("命令")]),_._v("："),v("code",[_._v('curl -w "%{time_appconnect}" -o /dev/null -s https://<URL>')])])])])]),_._v(" "),v("h3",{attrs:{id:"_6-应用层响应时间"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-应用层响应时间"}},[_._v("#")]),_._v(" 6. "),v("strong",[_._v("应用层响应时间")])]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("应用层总响应时间")]),_._v("：使用 "),v("code",[_._v("curl")]),_._v(" 的 "),v("code",[_._v('-w "%{time_total}"')]),_._v(" 测试总响应时间。\n"),v("ul",[v("li",[v("strong",[_._v("指标")]),_._v("：\n"),v("ul",[v("li",[v("strong",[_._v("总响应时间")]),_._v("：应在 "),v("strong",[_._v("500ms")]),_._v(" 内，超过 "),v("strong",[_._v("1秒")]),_._v(" 可能表明应用层有瓶颈。")]),_._v(" "),v("li",[v("strong",[_._v("数据传输时间")]),_._v("："),v("code",[_._v("time_starttransfer")]),_._v(" 指标表示服务端开始传输数据的时间，通常应小于 "),v("strong",[_._v("300ms")]),_._v("。")])])]),_._v(" "),v("li",[v("strong",[_._v("命令")]),_._v("："),v("code",[_._v('curl -w "time_total: %{time_total}, time_starttransfer: %{time_starttransfer}" -o /dev/null -s https://<URL>')])])])])]),_._v(" "),v("h3",{attrs:{id:"_7-负载均衡器和代理检查"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_7-负载均衡器和代理检查"}},[_._v("#")]),_._v(" 7. "),v("strong",[_._v("负载均衡器和代理检查")])]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("负载均衡延迟")]),_._v("：如果请求通过负载均衡器，检查负载均衡器的处理时间。\n"),v("ul",[v("li",[v("strong",[_._v("指标")]),_._v("：\n"),v("ul",[v("li",[v("strong",[_._v("负载均衡延迟")]),_._v("：应小于 "),v("strong",[_._v("100ms")]),_._v("，如果负载均衡器分配服务器有延迟，检查配置和健康检查情况。")])])])])])]),_._v(" "),v("h3",{attrs:{id:"_8-丢包率和链路监控"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_8-丢包率和链路监控"}},[_._v("#")]),_._v(" 8. "),v("strong",[_._v("丢包率和链路监控")])]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("MTR（My Traceroute）")]),_._v("：结合 "),v("code",[_._v("ping")]),_._v(" 和 "),v("code",[_._v("traceroute")]),_._v(" 的功能，查看每跳的延迟和丢包情况。\n"),v("ul",[v("li",[v("strong",[_._v("指标")]),_._v("：\n"),v("ul",[v("li",[v("strong",[_._v("丢包率")]),_._v("：每跳丢包应小于 "),v("strong",[_._v("1%")]),_._v("，如果某一跳出现高丢包率，可能是网络瓶颈或硬件问题。")])])]),_._v(" "),v("li",[v("strong",[_._v("命令")]),_._v("："),v("code",[_._v("mtr <目标服务器 IP>")])])])])]),_._v(" "),v("h3",{attrs:{id:"_9-apm-应用性能监控-工具"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_9-apm-应用性能监控-工具"}},[_._v("#")]),_._v(" 9. "),v("strong",[_._v("APM（应用性能监控）工具")])]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("APM 工具监控")]),_._v("：使用 APM 工具（如 New Relic、Datadog、Prometheus 等）持续监控应用的请求时间和网络性能。\n"),v("ul",[v("li",[v("strong",[_._v("指标")]),_._v("：\n"),v("ul",[v("li",[v("strong",[_._v("P95 延迟")]),_._v("：即 95% 的请求延迟在此范围内，通常应控制在 "),v("strong",[_._v("500ms")]),_._v(" 以下，超过 1秒可能是性能瓶颈。")]),_._v(" "),v("li",[v("strong",[_._v("错误率")]),_._v("：请求错误率应保持在 "),v("strong",[_._v("0.1%")]),_._v(" 以下，若请求错误率上升，可能是网络或应用问题。")])])])])])]),_._v(" "),v("h3",{attrs:{id:"_10-网络抓包分析-高级"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_10-网络抓包分析-高级"}},[_._v("#")]),_._v(" 10. "),v("strong",[_._v("网络抓包分析（高级）")])]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("Wireshark 抓包分析")]),_._v("：抓取请求的数据包，分析传输层是否存在重传、延迟和丢包等现象。\n"),v("ul",[v("li",[v("strong",[_._v("指标")]),_._v("：\n"),v("ul",[v("li",[v("strong",[_._v("TCP 重传")]),_._v("：在网络传输过程中重传率应低于 "),v("strong",[_._v("1%")]),_._v("，高重传率可能表示丢包。")]),_._v(" "),v("li",[v("strong",[_._v("网络延迟")]),_._v("：Wireshark 可以计算网络传输的每段延迟，帮助识别网络瓶颈。")])])])])])]),_._v(" "),v("h3",{attrs:{id:"总结"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[_._v("#")]),_._v(" 总结")]),_._v(" "),v("p",[_._v("从 Ping 延迟、DNS 解析、"),v("strong",[_._v("带宽")]),_._v("利用到 TLS 握手等指标层层排查，每项指标都有明确的参考值。")])])}),[],!1,null,null,null);v.default=r.exports}}]);