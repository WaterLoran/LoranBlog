(window.webpackJsonp=window.webpackJsonp||[]).push([[245],{705:function(_,v,r){"use strict";r.r(v);var l=r(2),e=Object(l.a)({},(function(){var _=this,v=_._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("p",[_._v("Charles 是一款常用的 HTTP/HTTPS 抓包工具，常用于调试和分析 Web 流量。以下是使用 Charles 进行抓包的详细步骤和配置方法：")]),_._v(" "),v("h3",{attrs:{id:"一、charles-的基础配置"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#一、charles-的基础配置"}},[_._v("#")]),_._v(" 一、Charles 的基础配置")]),_._v(" "),v("ol",[v("li",[v("strong",[_._v("安装与启动 Charles")]),_._v(" "),v("ul",[v("li",[_._v("在 "),v("a",{attrs:{href:"https://www.charlesproxy.com/download/",target:"_blank",rel:"noopener noreferrer"}},[_._v("Charles 官网"),v("OutboundLink")],1),_._v(" 下载并安装 Charles，启动后会自动配置为系统 HTTP/HTTPS 代理。")])])]),_._v(" "),v("li",[v("strong",[_._v("设置系统代理")]),_._v(" "),v("ul",[v("li",[_._v("Charles 通常会自动配置为本机代理（例如 "),v("code",[_._v("127.0.0.1:8888")]),_._v("），确保在 "),v("code",[_._v("Proxy -> Proxy Settings")]),_._v(" 中查看并确认代理端口（默认为 8888）。")])])]),_._v(" "),v("li",[v("strong",[_._v("启动抓包")]),_._v(" "),v("ul",[v("li",[_._v("启动 Charles 后，默认会开始捕获本机浏览器和应用程序的 HTTP/HTTPS 流量。")]),_._v(" "),v("li",[_._v("如果没有看到流量，可以手动在 "),v("code",[_._v("Proxy -> Start Recording")]),_._v(" 中启动流量捕获。")])])])]),_._v(" "),v("h3",{attrs:{id:"二、捕获-https-流量"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#二、捕获-https-流量"}},[_._v("#")]),_._v(" 二、捕获 HTTPS 流量")]),_._v(" "),v("ol",[v("li",[v("strong",[_._v("启用 HTTPS 代理")]),_._v(" "),v("ul",[v("li",[_._v("在 Charles 中，前往 "),v("code",[_._v("Proxy -> SSL Proxying Settings")]),_._v("，点击 "),v("code",[_._v("Add")]),_._v("，添加目标主机（如 "),v("code",[_._v("*.*")]),_._v(" 来捕获所有 HTTPS 流量）或指定域名（如 "),v("code",[_._v("www.example.com")]),_._v("）。")]),_._v(" "),v("li",[_._v("勾选 "),v("code",[_._v("Enable SSL Proxying")]),_._v(" 以启用 HTTPS 抓包。")])])]),_._v(" "),v("li",[v("strong",[_._v("安装 Charles 证书")]),_._v(" "),v("ul",[v("li",[_._v("访问 "),v("code",[_._v("http://chls.pro/ssl")]),_._v("，根据操作系统和设备类型下载并安装 Charles 证书。")]),_._v(" "),v("li",[_._v("在 macOS 中，安装后需要手动信任 Charles 根证书（在 "),v("code",[_._v("钥匙串访问")]),_._v(" 中查找 "),v("code",[_._v("Charles Proxy CA")]),_._v("，双击后将其设为“始终信任”）。")])])])]),_._v(" "),v("h3",{attrs:{id:"三、移动设备抓包"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#三、移动设备抓包"}},[_._v("#")]),_._v(" 三、移动设备抓包")]),_._v(" "),v("ol",[v("li",[v("strong",[_._v("设置移动设备代理")]),_._v(" "),v("ul",[v("li",[_._v("确保 Charles 与移动设备连接到同一网络。")]),_._v(" "),v("li",[_._v("在移动设备中（如 iOS 或 Android），进入 Wi-Fi 设置，选择当前 Wi-Fi 网络，配置 HTTP 代理为 Charles 所在主机的 IP 地址（如 "),v("code",[_._v("192.168.1.10")]),_._v("），端口设置为 "),v("code",[_._v("8888")]),_._v("。")])])]),_._v(" "),v("li",[v("strong",[_._v("安装证书")]),_._v(" "),v("ul",[v("li",[_._v("在移动设备上访问 "),v("code",[_._v("http://chls.pro/ssl")]),_._v("，下载并安装 Charles 的根证书，并在系统中将其设为“受信任”。")])])])]),_._v(" "),v("h3",{attrs:{id:"四、过滤与调试功能"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#四、过滤与调试功能"}},[_._v("#")]),_._v(" 四、过滤与调试功能")]),_._v(" "),v("ol",[v("li",[v("strong",[_._v("设置过滤规则")]),_._v(" "),v("ul",[v("li",[_._v("使用 "),v("code",[_._v("View -> Include")]),_._v(" 或 "),v("code",[_._v("View -> Exclude")]),_._v(" 设置包含或排除的流量过滤规则（如只查看 "),v("code",[_._v("example.com")]),_._v(" 域名的流量）。")])])]),_._v(" "),v("li",[v("strong",[_._v("修改请求或响应")]),_._v(" "),v("ul",[v("li",[_._v("选中目标流量条目，右键选择 "),v("code",[_._v("Breakpoints")]),_._v("，再触发该流量时，Charles 会拦截并允许用户修改请求或响应内容。")])])]),_._v(" "),v("li",[v("strong",[_._v("重放与编辑")]),_._v(" "),v("ul",[v("li",[_._v("选中一个请求，右键选择 "),v("code",[_._v("Repeat")]),_._v(" 或 "),v("code",[_._v("Edit")]),_._v("，可以修改请求参数、头信息或内容，并重新发送请求。")])])])]),_._v(" "),v("h3",{attrs:{id:"五、常见问题排查"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#五、常见问题排查"}},[_._v("#")]),_._v(" 五、常见问题排查")]),_._v(" "),v("ol",[v("li",[v("strong",[_._v("未捕获 HTTPS 流量")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("原因")]),_._v("：未安装 Charles 证书或未启用 SSL Proxying。")]),_._v(" "),v("li",[v("strong",[_._v("解决方法")]),_._v("：检查并重新配置 "),v("code",[_._v("SSL Proxying")]),_._v(" 设置。")])])]),_._v(" "),v("li",[v("strong",[_._v("移动设备无法连接到 Charles")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("原因")]),_._v("：设备代理配置错误，或 Charles 防火墙阻止了流量。")]),_._v(" "),v("li",[v("strong",[_._v("解决方法")]),_._v("：确保代理 IP 和端口正确，且 Charles 所在机器没有防火墙限制。")])])]),_._v(" "),v("li",[v("strong",[_._v("证书错误或 SSL 握手失败")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("原因")]),_._v("：某些应用或浏览器不信任 Charles 证书。")]),_._v(" "),v("li",[v("strong",[_._v("解决方法")]),_._v("：确保目标设备或浏览器信任 Charles 根证书，并手动将其设为受信任的根证书。")])])])]),_._v(" "),v("p",[_._v("通过 Charles 的这些功能和设置，可以有效地抓取、分析、调试 HTTP/HTTPS 流量，并灵活地修改和测试网络请求。")])])}),[],!1,null,null,null);v.default=e.exports}}]);