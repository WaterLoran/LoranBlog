以下是Mock工具的通用功能分类及详细列举。Mock框架（如Mockito、EasyMock、JMockit等）的核心功能可分为四大方面，每个方面包含20个具体功能点：

---

### **一、模拟对象创建与管理**
1. 接口模拟：为Java接口动态生成模拟实例  
2. 类模拟：为具体类创建模拟对象（需非final类）  
3. 注解驱动：通过`@Mock`注解自动创建模拟对象  
4. 自定义命名：为模拟对象指定调试标识名  
5. 严格模式：创建禁止未定义交互的严格模拟对象  
6. 宽松模式：创建自动返回默认值的宽松模拟对象  
7. 静态方法模拟：模拟静态方法的行为（需框架扩展支持）  
8. 构造函数模拟：替换构造函数返回模拟实例  
9. final类/方法模拟：通过字节码修改支持final元素  
10. 枚举模拟：模拟枚举类型的行为  
11. 匿名类模拟：支持动态生成的匿名类  
12. 多接口实现：创建实现多个接口的模拟对象  
13. 序列化支持：生成可序列化的模拟对象  
14. 线程安全模拟：保证多线程测试中的模拟对象安全  
15. 对象池管理：复用模拟对象提升测试性能  
16. 泛型类型支持：正确保留泛型类型信息  
17. 自动类型推导：根据上下文自动推导模拟类型  
18. 基于配置的创建：通过配置文件批量定义模拟规则  
19. 深层次模拟：自动模拟方法返回值的嵌套对象  
20. 资源清理：自动释放模拟对象占用的资源  

---

### **二、行为定义（Stubbing）**
1. 固定返回值：`when(mock.func()).thenReturn(value)`  
2. 异常抛出：`when(mock.func()).thenThrow(exception)`  
3. 动态计算：`thenAnswer()`实现运行时逻辑  
4. 连续不同响应：链式定义多次调用的不同返回值  
5. void方法行为：`doThrow().when(mock).voidFunc()`  
6. 调用真实方法：`thenCallRealMethod()`部分真实调用  
7. 参数敏感响应：基于不同参数返回不同值  
8. 通配参数匹配：`any()`系列匹配任意参数  
9. 自定义参数匹配：`argThat()`实现复杂校验逻辑  
10. 超时响应：模拟延迟响应测试异步逻辑  
11. 默认返回值：配置未定义调用的默认返回策略  
12. 永不返回：`thenAnswer()`实现永久阻塞  
13. 回调通知：执行时触发外部回调函数  
14. 状态机行为：根据调用次数改变响应  
15. 随机响应：每次调用返回随机范围内的值  
16. 资源响应：返回模拟文件/流等资源  
17. 并发响应：模拟线程竞争条件下的返回值  
18. 历史记录：基于调用历史动态生成响应  
19. 链式调用：自动模拟方法链`obj.getA().getB()`  
20. 自毁行为：首次调用后自动清除存根规则  

---

### **三、交互验证**
1. 基础调用验证：`verify(mock).method()`  
2. 精确调用次数：`times(n)`, `never()`, `atLeastOnce()`  
3. 调用顺序验证：`inOrder()`检查方法执行序列  
4. 超时验证：`timeout(ms)`验证异步调用  
5. 参数捕获：`ArgumentCaptor`获取调用参数  
6. 参数匹配验证：`eq()`, `same()`等匹配器校验参数  
7. 自定义参数断言：`argThat()`实现复杂参数校验  
8. 忽略不关心参数：`any()`跳过非关键参数检查  
9. 方法签名验证：检查方法名/参数类型匹配  
10. 异常传播验证：确认异常是否正确传递  
11. 资源消耗验证：检查方法执行后的资源状态  
12. 并发调用验证：验证多线程下的调用合规性  
13. 交互完整性：`verifyNoMoreInteractions()`  
14. 静默验证：收集错误最后统一报告  
15. 调用上下文：获取调用栈/线程等上下文信息  
16. 模拟间协作：验证多个模拟对象的交互顺序  
17. 回调验证：确认回调函数被正确触发  
18. 性能监控：记录方法执行耗时  
19. 增量验证：部分验证中途交互状态  
20. BDD风格验证：`then(mock).should().method()`  

---

### **四、高级扩展功能**
1. 间谍对象（Spy）：`spy()`包装真实对象部分模拟  
2. 依赖注入：`@InjectMocks`自动注入模拟依赖  
3. 模块化配置：按测试类定义全局模拟规则  
4. 自定义验证器：扩展验证逻辑插件  
5. 参数自动封装：自动装箱/拆箱处理  
6. 序列化诊断：输出模拟对象状态快照  
7. 测试监听器：挂钩测试生命周期事件  
8. 多框架集成：兼容JUnit/TestNG/Spring等  
9. BDD语法支持：Given-When-Then结构化测试  
10. 代码覆盖率：标记模拟代码的覆盖范围  
11. 动态重定义：运行时修改模拟行为  
12. 模板模拟：基于原型对象生成模拟  
13. 分布式模拟：支持远程模拟服务（高级场景）  
14. 条件模拟：根据运行时环境激活不同行为  
15. 性能优化：缓存机制减少重复创建开销  
16. IDE集成：图形化查看交互历史  
17. 多语言支持：Kotlin/Groovy等JVM语言适配  
18. 文档生成：自动生成模拟API文档  
19. 错误诊断：智能提示未满足的验证条件  
20. 自定义扩展点：开发插件增强框架能力  

---

### **主流Mock工具对比**
| 功能维度      | Mockito | EasyMock | JMockit |
| ------------- | ------- | -------- | ------- |
| 接口模拟      | ✔       | ✔        | ✔       |
| 类模拟        | ✔       | ✔        | ✔       |
| final方法支持 | 需扩展  | ✘        | ✔       |
| 静态方法模拟  | 需扩展  | ✘        | ✔       |
| 构造函数模拟  | ✘       | ✘        | ✔       |
| BDD风格       | ✔       | ✘        | 部分    |
| 参数捕获      | ✔       | 复杂     | ✔       |
| 学习曲线      | 平缓    | 中等     | 陡峭    |

> 注：现代Mock框架（如Mockito 5+）通过`mockito-inline`扩展已支持静态/构造函数模拟。

此分类体系覆盖了Mock工具的核心功能，实际应用中不同框架的实现细节可能存在差异，但核心思想一致：**通过模拟依赖、控制行为、验证交互来构建可靠的隔离测试**。