# 发版确认清单

确认软件是否具备发版条件，是测试团队的一项核心职责，需要一套系统化、可量化的检查体系来保障。

我们可以从以下**五大方面**来梳理发版条件，每个方面都包含具体的检查维度和可执行的指标。

---

### 发版条件确认清单 (Release Readiness Checklist)

#### 一、 功能质量 (Functional Quality)
这是最核心的方面，确保软件实现了所有计划的功能且行为符合预期。

1.  **测试用例执行率与通过率**
    *   **检查项**: 所有计划的测试用例（包括手动和自动）是否都已执行完毕。
    *   **具体指标**:
        *   **测试执行率**: 必须达到 **100%**。（已执行的测试用例数 / 计划内的测试用例总数 * 100%）
        *   **测试通过率**: 关键路径和P0/P1级别用例通过率必须达到 **100%**；全部用例通过率建议达到 **98%** 以上。（通过的测试用例数 / 已执行的测试用例总数 * 100%）

2.  **缺陷状态收敛情况**
    *   **检查项**: 当前发现的缺陷是否已得到有效处理，缺陷库状态是否健康。
    *   **具体指标**:
        *   **严重及以上缺陷 (Blocker/Critical)**: 必须 **全部解决（Closed或Resolved）并已验证（Verified）**。遗留数为 **0**。
        *   **主要缺陷 (Major)**: 原则上应全部解决。如有特殊原因遗留，必须有产品/项目经理的明确认可，且遗留数应 **趋近于 0**。
        *   **缺陷修复验证率**: 所有状态为“已修复”的缺陷，必须 **100%** 经过测试验证。
        *   **缺陷Reopen率**: 应低于 **5%**。如果过高，说明修复质量或验证环节有问题。

3.  **需求覆盖与验收确认**
    *   **检查项**: 所有产品需求是否都已被测试覆盖并满足验收标准。
    *   **具体指标**:
        *   **需求测试覆盖率达 100%**: 每个产品需求（User Story）都应有链接的测试用例证明其被验证过。
        *   **获得产品经理（PO）的验收签字（Sign-off）**: 书面确认所有功能均已实现并符合预期。

#### 二、 非功能质量 (Non-Functional Quality)
确保软件在性能、安全、可靠性等方面满足要求，尤其在ToB私有化场景下更为关键。

1.  **性能测试达标**
    *   **检查项**: 系统在高负载下的表现是否在可接受范围内。
    *   **具体指标**:
        *   **响应时间**: 核心接口/事务的95分位（P95）响应时间应 **低于 [预先定义的阈值，如 200ms]**。
        *   **吞吐量 (TPS/RPS)**: 系统吞吐量应 **达到或超过 [业务预期指标，如 1000 TPS]**。
        *   **资源利用率**: 在预期负载下，CPU、内存、磁盘I/O、网络I/O等资源利用率应 **低于 [预设水位，如 70%]**，无单点瓶颈。
        *   **稳定性**: 系统在连续运行（如8小时）的压力下，无内存泄漏、错误率飙升等问题，错误率应 **低于 0.1%**。

2.  **安全测试与漏洞扫描**
    *   **检查项**: 是否进行了必要的安全测试，已知漏洞是否已处理。
    *   **具体指标**:
        *   **安全扫描**: 代码漏洞扫描（SAST）、依赖组件扫描（SCA）、渗透测试等发现的 **中、高危漏洞必须全部修复** 或已有明确的缓解措施。**低危漏洞**修复率应超过90%。
        *   **合规性**: 符合行业安全规范（如等保2.0），并提供相应的扫描报告。

3.  **兼容性测试**
    *   **检查项**: 软件是否能在目标环境中正常运行。
    *   **具体指标**:
        *   **浏览器兼容**: 支持 Chrome, Firefox, Safari, Edge 等 **指定浏览器的最新两个版本**，核心功能无异常。
        *   **操作系统兼容**: 支持 CentOS 7.9+, Ubuntu 20.04+, Windows Server 2019+ 等 **客户指定的操作系统**。
        *   **数据库兼容** (如适用): 支持 MySQL 8.0, PostgreSQL 12+ 等 **客户指定的数据库版本**。
        *   **分辨率/设备兼容** (移动端): 支持主流分辨率和设备。

#### 三、 流程与文档 (Process & Documentation)
确保发布流程规范，所有必要的文档都已就绪。

1.  **发布流程合规性**
    *   **检查项**: 是否遵循了公司定义的发布流程。
    *   **具体指标**:
        *   已完成 **发布评审会（Release Review Meeting）** 并获得各相关方（产品、研发、测试、运维、客服）负责人的 **一致同意**。
        *   所有的代码和配置变更都已合并到**发布分支**，且该分支已通过CI/CD流水线的全部自动化测试。

2.  **文档完备性**
    *   **检查项**: 用户和技术文档是否齐全、准确。
    *   **具体指标**:
        *   **用户手册/帮助文档**: 已更新，涵盖了所有新功能和重要变更。
        *   **安装部署文档**: 详细描述了离线部署的所有步骤，包括环境要求、依赖组件、配置项、常见问题等。**必须由运维团队在类生产环境验证过**。
        *   **API文档** (如适用): 已更新并发布。
        *   **Release Notes**: 已撰写完成，清晰说明了新增功能、修复的问题、已知问题及兼容性变更。

#### 四、 环境与部署 (Environment & Deployment)
确保部署过程平滑、可靠，且具备回滚能力。

1.  **部署验证**
    *   **检查项**: 部署脚本和流程是否在预生产环境（Staging）验证成功。
    *   **具体指标**:
        *   在**与生产环境高度一致的Staging环境**上，使用**与生产环境相同的部署脚本和流程**，成功部署并通过了冒烟测试。
        *   部署耗时在预期范围内，且**回滚方案已验证成功**（能在规定时间内，如15分钟内，完成回滚）。

2.  **数据管理与迁移** (如适用)
    *   **检查项**: 如果需要数据迁移或初始化，方案是否可靠。
    *   **具体指标**:
        *   数据迁移脚本已经过**评审和测试**，备份方案已就绪。
        *   数据库变更脚本（DDL/DML）已准备好，并评估了对现有数据的影响。

#### 五、 风险与备份 (Risk & Backup)
对可能的风险有充分预案，确保万一出现问题能快速响应。

1.  **已知问题与风险评估**
    *   **检查项**: 对已识别但决定不修复的问题是否有明确共识和预案。
    *   **具体指标**:
        *   所有**已知问题（Known Issues）** 都已记录在Release Notes中，并与客户/产品经理沟通达成一致。
        *   对每个中高风险项都有**应急预案（Contingency Plan）**。

2.  **监控与应急响应**
    *   **检查项**: 上线后是否有足够的监控手段来及时发现问题。
    *   **具体指标**:
        *   核心业务和系统**监控告警**已配置完毕（如应用性能、错误日志、服务器资源等）。
        *   **上线值守方案**已确定，开发、测试、运维关键人员在上线后一段时间内（如2小时）待命，随时处理问题。

---

### 总结与执行建议

**如何执行：**
1.  **清单化**：将上述检查项制作成一个Excel或Confluence模板，作为每个版本发布的必做清单。
2.  **责任到人**：每个检查项都应有明确的**负责人（Owner）**，由他/她来确认并签字。
3.  **量化 gates**：在CI/CD流水线中，将代码覆盖率、自动化测试通过率、安全扫描等指标设置为硬性关卡（Hard Gate），不通过无法构建发布包。
4.  **评审会议**：在发布前，召开发布评审会，由测试负责人牵头，逐项过这个清单，所有负责人确认无误后，方可决定发布。

通过这样一套体系化的方法，可以最大程度地确保发版决策是客观、可靠、有据可依的，从而保障软件发布的质量和稳定性。