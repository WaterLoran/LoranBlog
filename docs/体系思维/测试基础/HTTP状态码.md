HTTP状态码是Web开发、测试、运维乃至SEO中都至关重要的基础知识。它们由三位数字组成，伴随着HTTP响应返回，告诉我们一个请求是否成功，或者遇到了什么错误。

HTTP状态码共分为5大类，每个类别的第一个数字代表了其所属的类型。

---

### 状态码分类（5大类）

| 范围    | 类别           | 含义                                 | 说明                                                         |
| :------ | :------------- | :----------------------------------- | :----------------------------------------------------------- |
| **1xx** | **信息响应**   | 请求已被接收，继续处理               | 临时响应，表示请求已收到，请客户端继续操作。**在实际应用中很少见到**。 |
| **2xx** | **成功**       | 请求已成功被服务器接收、理解、并接受 | 表明请求一切正常。                                           |
| **3xx** | **重定向**     | 需要后续操作才能完成这一请求         | 请求的资源位置发生了变化，需要客户端采取进一步的操作（通常是跳转）。 |
| **4xx** | **客户端错误** | 请求含有词法错误或者无法被执行       | **错误发生在客户端**。例如，请求了不存在的资源、未提供身份验证、语法错误等。 |
| **5xx** | **服务器错误** | 服务器在处理某个正确请求时发生错误   | **错误发生在服务器端**。服务器虽然收到了 valid 请求，但由于内部问题无法完成处理。 |

---

### 常见及重要的状态码详解

#### 1xx - 信息响应 (Informational)

*   **100 Continue**：客户端应继续其请求。客户端在发送大型请求体前，会先发送一个包含 `Expect: 100-continue` 的请求头，服务器如果同意，就返回100，客户端再继续发送正文。
*   **101 Switching Protocols**：服务器应客户端要求，正在切换协议（例如，切换到WebSocket）。

#### 2xx - 成功 (Success)

*   **200 OK**：**最常见的成功状态码**。表示请求已成功，响应正文中包含了所请求的资源。
*   **201 Created**：**创建成功**。通常是在POST或PUT请求后，成功在服务器上创建了一个新资源。响应头 `Location` 通常会包含新资源的URI。
*   **202 Accepted**：请求已被服务器接受，但尚未处理完成。适用于异步任务，最终处理结果可能会在将来通过其他方式提供。
*   **204 No Content**：服务器成功处理了请求，但不需要返回任何实体内容。常用于DELETE请求或表单提交后，不需要跳转页面的情况。
*   **206 Partial Content**：**部分内容**。客户端进行了范围请求（通过 `Range` 头），服务器成功返回了部分资源。常用于大文件的分块下载或断点续传。

#### 3xx - 重定向 (Redirection)

*   **301 Moved Permanently**：**永久重定向**。请求的资源已被**永久**移动到新的URI，返回信息会包括新的URI。浏览器和搜索引擎会**更新书签和索引**，将来所有请求都应直接转向新URI。
*   **302 Found**：**临时重定向**。请求的资源**临时**从不同的URI响应请求。浏览器会跳转，但搜索引擎不会更新链接。**（注意：HTTP/1.0 规范是 302 Moved Temporarily，但实际实现都按 Found 来行为）**
*   **304 Not Modified**：**未修改**。用于客户端缓存机制。客户端在请求时可以提供 `If-Modified-Since` 或 `If-None-Match` 头，如果资源自指定时间后未修改，服务器会返回304，告诉客户端直接使用本地缓存。**这不是重定向，而是对缓存的优化。**

> **SEO重点：301 和 302 的区别**
> *   **301** 会将旧页面的权重完全转移到新页面。
> *   **302** 不会传递权重，搜索引擎认为这只是临时跳转。

*   **307 Temporary Redirect**：**临时重定向**。与302类似，但有一个关键区别：**307会保证请求方法和请求体不会改变**。例如，如果是POST请求，307会严格地重定向为另一个POST请求。而302在历史中允许浏览器将POST重定向为GET（尽管规范不允许，但很多浏览器都这么做了）。
*   **308 Permanent Redirect**：**永久重定向**。与301类似，但同样**保证请求方法和请求体不会改变**。

#### 4xx - 客户端错误 (Client Error)

*   **400 Bad Request**：**错误的请求**。服务器无法理解请求的格式，通常是因为语法错误（例如，JSON格式错误、参数错误）。
*   **401 Unauthorized**：**未认证**。请求需要用户认证。响应头会包含 `WWW-Authenticate` 字段挑战客户端信息。**注意：这个名字容易误解，它实际指的是“未认证（Authentication）”，而不是“未授权（Authorization）”。**
*   **403 Forbidden**：**禁止访问**。服务器理解请求，但拒绝执行。与401不同，身份验证也无济于事。通常是因为用户没有访问该资源的权限（Authorization）。
*   **404 Not Found**：**最著名的错误码**。服务器无法找到请求的资源。也可能是服务器不想告诉你为什么拒绝，所以用404代替403。
*   **405 Method Not Allowed**：请求行中指定的请求方法不能被用于请求相应的资源。例如，对只支持GET的接口发送了POST请求。响应头应包含 `Allow` 字段，列出支持的HTTP方法。
*   **408 Request Timeout**：服务器等待客户端发送的请求时间过长，超时了。
*   **429 Too Many Requests**：**请求过多**。客户端在给定的时间内发送了太多请求（“限速”或“频次控制”）。常用于API防滥用。

#### 5xx - 服务器错误 (Server Error)

*   **500 Internal Server Error**：**最常见的服务器错误**。服务器遇到了一个未曾预料的状况，导致了它无法完成对请求的处理。**这是一个“万能”的服务端错误码**，通常意味着后端代码崩了、有未捕获的异常。
*   **502 Bad Gateway**：作为网关或代理角色的服务器，从上游服务器（如Tomcat, PHP-FPM）接收到了一个无效的响应。常见于Nginx/Apache后面的应用服务器挂了或没有响应。
*   **503 Service Unavailable**：服务器当前无法处理请求（由于临时过载或停机维护）。这通常是临时的状态。响应头可以包含 `Retry-After` 字段，告知客户端多久后可以重试。
*   **504 Gateway Timeout**：作为网关或代理角色的服务器，未能及时从上游服务器收到响应。**与502的区别：502是收到了无效响应，504是根本没收到响应（超时了）。**

---

### 在软件测试中的关注点

作为测试工程师，理解状态码至关重要：

1.  **API测试**：
    *   验证成功操作是否返回 **200** 或 **201**。
    *   验证创建资源时，重复创建是否返回正确的错误码（如 **409 Conflict**）。
    *   验证权限控制：普通用户访问管理员接口是否返回 **403** 而非 **401** 或 **200**。
    *   验证输入错误参数是否返回 **400** 而不是爆出 **500**（500可能意味着后端没有做好参数校验）。
    *   验证限流功能是否生效（请求过多时是否返回 **429**）。

2.  **UI/端到端（E2E）测试**：
    *   通过浏览器开发者工具的Network面板监控所有请求的状态码，确保没有意外的 **4xx** 或 **5xx** 错误。
    *   检查图片、CSS、JS等静态资源是否加载成功（**200**），而不是 **404**。

3.  **性能测试**：
    *   大量并发请求下，服务器是返回 **200** 还是开始返回 **503**、**429**，这有助于确定系统的瓶颈和容量。

4.  **安全测试**：
    *   访问未授权资源应返回 **403** 而不是 **200**。
    *   尝试越权操作应返回明确的错误状态码，而不是成功。

希望这份详细的说明能帮助你全面理解HTTP状态码！